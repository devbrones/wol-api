\hypertarget{index_8py}{}\doxysection{index.\+py File Reference}
\label{index_8py}\index{index.py@{index.py}}


The main file where the A\+PI functions are declared.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{index_8py_a43e0528a42ae3b457bed1db15d07ae7c}{apimod.\+index.\+ret\+\_\+ok}} ()
\begin{DoxyCompactList}\small\item\em Returns the Documentation webpage. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{index_8py_a45f4a7cf23a65aec7bcfaaa75c07dce0}{apimod.\+index.\+isonline}} ()
\begin{DoxyCompactList}\small\item\em Returns a J\+S\+ON online object. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{index_8py_a35b86d18072e4b45400f1d8f8976a913}{apimod.\+index.\+error\+\_\+report}} ()
\begin{DoxyCompactList}\small\item\em Report an error by sending a P\+O\+ST request to /api/report-\/error. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{index_8py_a691b38ca85b1d82b54e4d1f82b811ff7}{apimod.\+index.\+getlch}} ()
\begin{DoxyCompactList}\small\item\em Get information about a You\+Tube Channel. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{index_8py_a7aba84fa123e655e0205c452394c8f25}{apimod.\+index.\+getlurl}} ()
\begin{DoxyCompactList}\small\item\em Get information about a You\+Tube Video. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{index_8py_a81b4c0affaa3e8dc432bea887492972a}\label{index_8py_a81b4c0affaa3e8dc432bea887492972a}} 
{\bfseries apimod.\+index.\+app} = Flask(\+\_\+\+\_\+name\+\_\+\+\_\+)
\item 
\mbox{\Hypertarget{index_8py_afaf9833af3f7a672e15e829fcc146669}\label{index_8py_afaf9833af3f7a672e15e829fcc146669}} 
int {\bfseries apimod.\+index.\+debug} = 0
\item 
\mbox{\Hypertarget{index_8py_a926ae37243ca5e1bcc6893c6d2309fb6}\label{index_8py_a926ae37243ca5e1bcc6893c6d2309fb6}} 
{\bfseries apimod.\+index.\+filename}
\item 
\mbox{\Hypertarget{index_8py_aadad262090ce132586e538f68f2b487a}\label{index_8py_aadad262090ce132586e538f68f2b487a}} 
{\bfseries apimod.\+index.\+level}
\item 
\mbox{\Hypertarget{index_8py_ae22f7701365cb55b7474d049876043a4}\label{index_8py_ae22f7701365cb55b7474d049876043a4}} 
{\bfseries apimod.\+index.\+D\+E\+B\+UG}
\item 
\mbox{\Hypertarget{index_8py_a177e638d098c78323db014af8e78d274}\label{index_8py_a177e638d098c78323db014af8e78d274}} 
{\bfseries apimod.\+index.\+format}
\item 
{\bfseries apimod.\+index.\+con}
\item 
\mbox{\Hypertarget{index_8py_aef3432adc274ee84fdc177355ffdc3e1}\label{index_8py_aef3432adc274ee84fdc177355ffdc3e1}} 
{\bfseries apimod.\+index.\+cursor} = con.\+cursor()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The main file where the A\+PI functions are declared. 

\hypertarget{index_8py_description_index}{}\doxysubsection{description\+\_\+index}\label{index_8py_description_index}
This file is the main application that runs the wol-\/api. In this application we declare all the possible A\+PI calls that can be made with this api while it is active.\hypertarget{index_8py_libraries_index}{}\doxysubsection{Libraries/\+Modules}\label{index_8py_libraries_index}

\begin{DoxyItemize}
\item Flask
\item os
\item \mbox{\hyperlink{apcnf_8py_source}{apcnf.\+py}}
\item psycopg2
\item psycopg2.\+extras
\item json
\item collections
\item requests
\item youtube\+\_\+dl
\item datetime
\item logging
\end{DoxyItemize}\hypertarget{index_8py_todo_index}{}\doxysubsection{To\+Do}\label{index_8py_todo_index}

\begin{DoxyItemize}
\item Change the A\+PI landing page (/api/)
\end{DoxyItemize}\hypertarget{index_8py_author_index}{}\doxysubsection{Author(s)}\label{index_8py_author_index}

\begin{DoxyItemize}
\item Created by Tibroness (\href{https://github.com/devbrones}{\texttt{ https\+://github.\+com/devbrones}}) as per request by Madiator (\href{https://github.com/kodxana}{\texttt{ https\+://github.\+com/kodxana}})
\item Modified by Tibroness (\href{https://github.com/devbrones}{\texttt{ https\+://github.\+com/devbrones}}) 
\end{DoxyItemize}

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{index_8py_a35b86d18072e4b45400f1d8f8976a913}\label{index_8py_a35b86d18072e4b45400f1d8f8976a913}} 
\index{index.py@{index.py}!error\_report@{error\_report}}
\index{error\_report@{error\_report}!index.py@{index.py}}
\doxysubsubsection{\texorpdfstring{error\_report()}{error\_report()}}
{\footnotesize\ttfamily def apimod.\+index.\+error\+\_\+report (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Report an error by sending a P\+O\+ST request to /api/report-\/error. 

Error reporting function. T\+O\+DO\+: This code needs to be adapted to work better with a database rather than J\+S\+ON


\begin{DoxyParams}{Parameters}
{\em error-\/report-\/type} & Can be \char`\"{}exception\char`\"{}, \char`\"{}bug\char`\"{}, or even \char`\"{}abcdefg\char`\"{} \\
\hline
{\em error-\/report-\/value} & The error message to be passed to the log, i.\+e. \char`\"{}\+Extension did not load.\char`\"{} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
204
\end{DoxyReturn}
Raises\+: Error in \char`\"{}error-\/reports\char`\"{} file.

Examples\+: curl -\/X P\+O\+ST -\/H \char`\"{}\+Content-\/\+Type\+: application/json\char`\"{} -\/d \textquotesingle{}\{\char`\"{}error-\/report-\/type\char`\"{}\+:\char`\"{}exception\char`\"{},\char`\"{}error-\/report-\/value\char`\"{}\+:\char`\"{}\+Extension could not read webcontent\char`\"{}\}\textquotesingle{} \href{http://localhost:5000/api/report-error}{\texttt{ http\+://localhost\+:5000/api/report-\/error}}

Writes an error in the above seen J\+S\+ON format into the \char`\"{}error-\/reports\char`\"{} file. 

Definition at line 141 of file index.\+py.

\mbox{\Hypertarget{index_8py_a691b38ca85b1d82b54e4d1f82b811ff7}\label{index_8py_a691b38ca85b1d82b54e4d1f82b811ff7}} 
\index{index.py@{index.py}!getlch@{getlch}}
\index{getlch@{getlch}!index.py@{index.py}}
\doxysubsubsection{\texorpdfstring{getlch()}{getlch()}}
{\footnotesize\ttfamily def apimod.\+index.\+getlch (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get information about a You\+Tube Channel. 

This function gets information on from odysee\textquotesingle{}s A\+PI and saves that data to a database, and eventually returns a J\+S\+ON Object. If an entry for the U\+RL exists then it reads from that database entry.


\begin{DoxyParams}{Parameters}
{\em url} & The You\+Tube U\+RL \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A J\+S\+ON dictionary like this one\+:
\end{DoxyReturn}
Raises\+: Entry in log. Database functions.

Examples\+: curl \href{http://localhost:5000/api/get-lbry-channel?url=CHANNELID}{\texttt{ http\+://localhost\+:5000/api/get-\/lbry-\/channel?url=\+C\+H\+A\+N\+N\+E\+L\+ID}} Returns\+: \{\char`\"{}dtstamp\char`\"{}\+: T\+I\+M\+E\+\_\+\+W\+A\+S\+\_\+\+A\+D\+D\+ED,\char`\"{}id\char`\"{}\+:ID,\char`\"{}lbrych\char`\"{}\+:L\+B\+R\+Y\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+U\+RL,\char`\"{}ytch\char`\"{}\+:null,\char`\"{}yturl\char`\"{}\+:C\+H\+A\+N\+N\+E\+L\+ID\} 

Definition at line 171 of file index.\+py.

\mbox{\Hypertarget{index_8py_a7aba84fa123e655e0205c452394c8f25}\label{index_8py_a7aba84fa123e655e0205c452394c8f25}} 
\index{index.py@{index.py}!getlurl@{getlurl}}
\index{getlurl@{getlurl}!index.py@{index.py}}
\doxysubsubsection{\texorpdfstring{getlurl()}{getlurl()}}
{\footnotesize\ttfamily def apimod.\+index.\+getlurl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get information about a You\+Tube Video. 

This function gets information on from odysee\textquotesingle{}s A\+PI and saves that data to a database, and eventually returns a J\+S\+ON Object. If an entry for the U\+RL exists then it reads from that database entry.


\begin{DoxyParams}{Parameters}
{\em url} & The You\+Tube U\+RL \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A J\+S\+ON dictionary like this one\+: \char`\"{}\{\char`\"{}dtstamp\char`\"{}\+:\char`\"{}2022-\/01-\/04 23\+:26\+:09.\+752372+00\+:00\char`\"{},\char`\"{}id\char`\"{}\+:2,\char`\"{}lbrych\char`\"{}\+:\char`\"{}@\+Alpha\+Nerd\#8d497e7e96c789364c56aea7a35827d2dc1eea65\char`\"{},\char`\"{}lbryurl\char`\"{}\+:\char`\"{}@\+Alpha\+Nerd\#8/how-\/monero-\/works-\/and-\/why-\/its-\/a-\/better\#a\char`\"{},\char`\"{}yttitle\char`\"{}\+:\char`\"{}How Monero Works (And Why its a Better Currency Than B\+TC)\char`\"{},\char`\"{}yturl\char`\"{}\+:\char`\"{}Qr\+Hs\+F\+Z\+Bab4U\char`\"{}\}\char`\"{}
\end{DoxyReturn}
Raises\+: Entry in log. Database functions.

Examples\+: curl \href{http://localhost:5000/api/get-lbry-video?url=QrHsFZBab4U}{\texttt{ http\+://localhost\+:5000/api/get-\/lbry-\/video?url=\+Qr\+Hs\+F\+Z\+Bab4U}} Returns\+: \{ \char`\"{}dtstamp\char`\"{}\+:\char`\"{}2022-\/01-\/04 23\+:26\+:09.\+752372+00\+:00\char`\"{}, \char`\"{}id\char`\"{}\+:2, \char`\"{}lbryurl\char`\"{}\+:\char`\"{}@\+Alpha\+Nerd\#8/how-\/monero-\/works-\/and-\/why-\/its-\/a-\/better\#a\char`\"{}, \char`\"{}yttitle\char`\"{}\+:\char`\"{}\+How Monero Works (\+And Why its a Better Currency Than B\+T\+C)\char`\"{}, \char`\"{}yturl\char`\"{}\+:\char`\"{}\+Qr\+Hs\+F\+Z\+Bab4\+U\char`\"{} \} 

Definition at line 262 of file index.\+py.

\mbox{\Hypertarget{index_8py_a45f4a7cf23a65aec7bcfaaa75c07dce0}\label{index_8py_a45f4a7cf23a65aec7bcfaaa75c07dce0}} 
\index{index.py@{index.py}!isonline@{isonline}}
\index{isonline@{isonline}!index.py@{index.py}}
\doxysubsubsection{\texorpdfstring{isonline()}{isonline()}}
{\footnotesize\ttfamily def apimod.\+index.\+isonline (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns a J\+S\+ON online object. 

This feature is obsolete but I kept it anyways.


\begin{DoxyParams}{Parameters}
{\em None} & None \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{[}\{\char`\"{}online\char`\"{}\+:true\}\mbox{]} Raises\+: 200 OK 
\end{DoxyReturn}


Definition at line 126 of file index.\+py.

\mbox{\Hypertarget{index_8py_a43e0528a42ae3b457bed1db15d07ae7c}\label{index_8py_a43e0528a42ae3b457bed1db15d07ae7c}} 
\index{index.py@{index.py}!ret\_ok@{ret\_ok}}
\index{ret\_ok@{ret\_ok}!index.py@{index.py}}
\doxysubsubsection{\texorpdfstring{ret\_ok()}{ret\_ok()}}
{\footnotesize\ttfamily def apimod.\+index.\+ret\+\_\+ok (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the Documentation webpage. 

This function literally does nothing but that.


\begin{DoxyParams}{Parameters}
{\em None} & None \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The A\+PI documentation in H\+T\+ML. Raises\+: 200 OK 
\end{DoxyReturn}


Definition at line 112 of file index.\+py.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{index_8py_aa5301e1f9d6a68c353222909ffcd124a}\label{index_8py_aa5301e1f9d6a68c353222909ffcd124a}} 
\index{index.py@{index.py}!con@{con}}
\index{con@{con}!index.py@{index.py}}
\doxysubsubsection{\texorpdfstring{con}{con}}
{\footnotesize\ttfamily apimod.\+index.\+con}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  psycopg2.connect(user=Config().postgun,}
\DoxyCodeLine{2                        password=Config().postgpw,}
\DoxyCodeLine{3                        host=Config().postghost,}
\DoxyCodeLine{4                        port=Config().postgport,}
\DoxyCodeLine{5                        database=Config().postdbname)}

\end{DoxyCode}


Definition at line 97 of file index.\+py.

